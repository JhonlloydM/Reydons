<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Products</title>
<style>
  body{
    text-align: center;
    font-family:'Poppins', sans-serif;
  }
  .Product_title{
    margin-top: 50px;
    font-size: 40px;
  }
  .productname,.product-price{
    font-size: 15px;
  }
  .product-describtion{
    font-size: 12px;
    text-align:center;
    
  }
  .container-items{
    max-width: auto;
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    gap: 10px;
    text-align: center;
    margin: 10%;
    justify-content: space-between;
}
.item1{
    width: 110px;
    height: 100px;
    border-radius: 50px;
}
.other-items{
    width: 200px;
    flex-basis: calc(30.33% - 20px); /* Adjust as needed for spacing */
    margin-bottom: 20px; /* Add margin between items */
    padding: 3.5rem .5rem 1.25rem;
    border-radius: .25rem;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.473);
    transition: .3s;
}
.other-items:hover{
    box-shadow: 0 4px 8px rgb(0, 0, 0);
}
.add-to-cart-btn{
    cursor: pointer;
}
.back-button{
    display: inline-block;
    padding: 10px 20px;
    position: absolute;
    top: 20%;
    right: 100px;
    background-color: #ff0000;
    color: #fff;
    text-decoration: none;
    border-radius: 5px;
}
 /* New styles for side panel */
 .side-panel {
    position: fixed;
    top: 0;
    right: 0;
    width: 300px;
    height: 100%;
    background-color: #f0f0f0;
    padding: 20px;
    box-shadow: -2px 0 5px rgba(0, 0, 0, 0.2);
    overflow-y: auto;
    transform: translateX(100%);
    transition: transform 0.3s ease;
  }

  .side-panel.active {
    transform: translateX(0);
  }

  .order-details {
    margin-bottom: 20px;
  }

  .total-amount {
    font-weight: bold;
    margin-top: 20px;
  }
  .Cart{
    display: inline-block;
    padding: 10px 20px;
    position: absolute;
    top: 20%;
    right: 10%;
    background-color: #ff0000;
    color: #fff;
    text-decoration: none;
    border-radius: 5px;
  }

  /* New styles for buttons */
  .button-container {
    display: flex;
    justify-content: space-between;
    margin-top: 20px;
  }
  .close-button{
    float: right;
    background-color: #ff0000;
    color: #fff;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }
    .clear-button {
    background-color: #ff0000;
    color: #fff;
    padding: 10px 20px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }

  .close-button:hover, .clear-button:hover {
    background-color: #cc0000;
  }

  .buy-button {
    background-color: #007bff;
    color: #fff;
    padding: 10px 20px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }

  .buy-button:hover {
    background-color: #0056b3;
  }
@media (max-width: 768px) {
  .other-items {
    flex-basis: calc(30% - 10px); /* Adjust for two items per row on smaller screens */
  }
}
</style>
</head>
<body>

  <section class="Product-container" id="products">
    <h3 class="Product_title">Variant</h3>
    <div class="container-items">
      <div class="other-items" data-product="Soimai chicken">
          <img src="image/soimai chicken.jpg" class="item1">
          <h2 class="productname">Siomai chicken</h2>
          <p class="product-describtion"> 4 pieces of Chicken Siomai
            <br> Slice of calamansi 
            <br> Chili-garlic and special Toyo
          </p>
          <p class="product-price">₱ 25</p>
          <button class="add-to-cart-btn">Order</button>
      </div>

      <div class="other-items" data-product="Soimai shaskfin">
          <img src="image/soimai shaskfin.jpg" class="item1">
          <h2 class="productname">Siomai shaskfin</h2>
          <p class="product-describtion"> 4 pieces of Sharks Fin Siomai
            <br> Slice of calamansi 
            <br> Chili-garlic and special Toyo
          </p>
          <p class="product-price">₱ 25</p>
          <button class="add-to-cart-btn">Order</button>
      </div>

      <div class="other-items" data-product="Soimai pork">
          <img src="image/Soimai pork.JPG" class="item1">
          <h2 class="productname">Siomai Pork</h2>
          <p class="product-describtion"> 4 pieces of chicken siomai
            <br> Slice of calamansi 
            <br> Chili-garlic and special Toyo
          </p>
          <p class="product-price">₱ 25</p>
          <button class="add-to-cart-btn">Order</button>
      </div>

      <div class="other-items" data-product="Soimai beef">
          <img src="image/Siomai beef.jpg" class="item1">
          <h2 class="productname">Siomai Beef</h2>
          <p class="product-describtion"> 4 pieces of chicken siomai
            <br> Slice of calamansi 
            <br> Chili-garlic and special Toyo
          </p>
          <p class="product-price">₱ 25</p>
          <button class="add-to-cart-btn">Order</button>
      </div>

      <div class="other-items" data-product="Soimai shrimp">
        <img src="image/soimai shrimp.jpg" class="item1">
        <h2 class="productname">Siomai shrimp</h2>
        <p class="product-describtion"> 4 pieces of chicken siomai
          <br> Slice of calamansi 
          <br> Chili-garlic and special Toyo
        </p>
        <p class="product-price">₱ 25</p>
        <button class="add-to-cart-btn">Order</button>
    </div>

    <div class="other-items" data-product="Soimai shrimp">
      <img src="image/Javarice.png" class="item1">
      <h2 class="productname">Java Rice w/ Siomai</h2>
      <p class="product-describtion"> 5 pieces any kind Siomai
        <br> Slice of calamansi 
        <br> Chili-garlic and special Toyo
      </p>
      <p class="product-price">₱ 75</p>
      <button class="add-to-cart-btn">Order</button>
  </div>
  </div>
  <a href="javascript:history.back()" class="back-button">x</a>

  <!-- Side panel for order details -->
  <button id="togglePanelButton" class="Cart">Show Order</button>

  <!-- Side panel for order details -->
  <div id="sidePanel" class="side-panel">
    <button id="closeButton" class="close-button">X</button>
    <h2>Your Order</h2>
    <div id="orderDetails" class="order-details"></div>
    <div id="totalAmount" class="total-amount">Total: ₱0</div>
    <button id="clearButton" class="clear-button">Clear Orders</button>
    <button id="buyButton" class="buy-button">Buy Now</button>
  </div>
  </section>

  <script>
    // Get the toggle button and side panel
    const togglePanelButton = document.getElementById('togglePanelButton');
    const sidePanel = document.getElementById('sidePanel');

    // Toggle side panel visibility
    togglePanelButton.addEventListener('click', () => {
      sidePanel.classList.toggle('active');
    });
  // Get all "Order" buttons
    const orderButtons = document.querySelectorAll('.add-to-cart-btn');

    // Get the side panel and its elements
    const orderDetails = document.getElementById('orderDetails');
    const totalAmount = document.getElementById('totalAmount');
    const buyButton = document.getElementById('buyButton');
    const clearButton = document.getElementById('clearButton');
    const closeButton = document.getElementById('closeButton');

    let total = 0;
    let orders = {}; // Change from const to let to allow reassignment

// Clear button click event handler
clearButton.addEventListener('click', () => {
  orders = {}; // Reset orders object
  total = 0;   // Reset total amount
  updateSidePanel(); // Update side panel to reflect changes
});

    // Add click event listeners to "Order" buttons
    orderButtons.forEach(button => {
      button.addEventListener('click', () => {
        const product = button.parentElement.dataset.product;
        const price = parseInt(button.parentElement.querySelector('.product-price').textContent.replace('₱', ''));
        total += price;

        if (orders[product]) {
          orders[product].quantity++;
        } else {
          orders[product] = {
            quantity: 1,
            price: price
          };
        }

        updateSidePanel();
      });
    });

    // Update side panel with order details
    function updateSidePanel() {
      orderDetails.innerHTML = '';
      Object.keys(orders).forEach(product => {
        const orderItem = document.createElement('div');
        orderItem.textContent = `${product} x${orders[product].quantity} ₱${orders[product].price * orders[product].quantity}`;
        orderDetails.appendChild(orderItem);
      });

      totalAmount.textContent = `Total: ₱${total}`;

      // Show side panel
      sidePanel.classList.add('active');
    }

    // Clear button click event handler
    clearButton.addEventListener('click', () => {
      orders = {};
      total = 0;
      updateSidePanel();
    });

    // Buy button click event handler
    buyButton.addEventListener('click', () => {
      alert('Thank you for your purchase!');
      // Reset orders and total
      orders = {};
      total = 0;
      // Hide side panel
      sidePanel.classList.remove('active');
    });

    // Close button click event handler
    closeButton.addEventListener('click', () => {
      sidePanel.classList.remove('active');
    });
    function updateSidePanel() {
    orderDetails.innerHTML = '';
    Object.keys(orders).forEach(product => {
      const orderItem = document.createElement('div');
      orderItem.textContent = `${product} x${orders[product].quantity} ₱${orders[product].price * orders[product].quantity}`;

      // Create delete button for each order item
      const deleteButton = document.createElement('button');
      deleteButton.textContent = 'Delete';
      deleteButton.classList.add('delete-button');
      deleteButton.addEventListener('click', () => {
        // Decrease quantity by 1 if greater than 1, otherwise delete the item
        if (orders[product].quantity > 1) {
          orders[product].quantity--;
          total -= orders[product].price; // Subtract price of the item
        } else {
          delete orders[product];
          total -= orders[product].price; // Subtract price of the item
        }
        updateSidePanel(); // Update side panel to reflect changes
      });

      orderItem.appendChild(deleteButton);
      orderDetails.appendChild(orderItem);
    });

    totalAmount.textContent = `Total: ₱${total}`;

    // Show side panel
    sidePanel.classList.add('active');
  }
  </script>
</body>
</html>
